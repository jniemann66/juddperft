--- movegen.h
+++ movegen.h
@@ -328,7 +328,7 @@ inline BitBoard genWhiteAttacks(const ChessPosition& Z);
 BitBoard isBlackInCheck(const ChessPosition & Z, BitBoard extend = 0);
 void scanBlackMoveForChecks(ChessPosition& Q, ChessMove* pM); // detects whether black's proposed move will put white in check or checkmate. updates pM->Check and pM->Checkmate
 void addBlackCastlingMove(const ChessPosition& P, ChessMove*& pM, int32_t flags = 0);
-void addBlackMoveToListIfLegal(ChessMove *& pM, const ChessPosition & P, int32_t piece, unsigned char fromsquare, unsigned char tosquare, BitBoard mask);
+void addBlackMoveToListIfLegal(const ChessPosition & P, ChessMove *& pM, unsigned char fromsquare, BitBoard to, int32_t piece, int32_t flags = 0);
 void addBlackPromotionsToListIfLegal(const ChessPosition & P, ChessMove *& pM, unsigned char fromsquare, BitBoard to);
 
 // Dump I/O functions:
